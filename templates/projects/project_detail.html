<!-- templates/post_detail.html -->
{% extends "main.html" %}
{% load static %}

{% block title %} Project Detail | StoryTech{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/projects/project_detail.css' %}">
{% endblock %}

{% block content %}
<div class="project-detail">

    <div class="project-header">
        <div class="project-image-wrapper">
            {% if project.image %}
                <img src="{{ project.image.url }}" alt="{{ project.title }}" class="project-image">
            {% endif %}
        </div>

        <div class="project-meta">
            <h1 class="project-title">{{ project.title }}</h1>
            <p class="project-author">By {{ project.author }}</p>
        </div>
    </div>

    <div class="project-discription">
        <p class="project-discription">{{ project.discription }}</p>
    </div>
    
    <div class="project-content">
        {% for block in project.blocks.all %}
          {% if block.type == "text" %}
             <p>{{ block.value }}</p>
          {% elif block.type == "code" %}
             <div class="code-wrapper">
                 <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                 <pre><code>{{ block.value|escape }}</code></pre>
             </div>
          {% endif %}
        {% endfor %}
    </div>
</div>

{% block extra_js %}
  <script src="{% static 'js/projects/project_detail.js' %}"></script>
{% endblock %}

{% endblock content %}